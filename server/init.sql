\c cookiestore_db;

-- Таблица статистики
CREATE TABLE IF NOT EXISTS stats (
    id SERIAL PRIMARY KEY,
    number VARCHAR(50) NOT NULL,
    stat_type VARCHAR(100) NOT NULL
);

-- Таблица контактов
CREATE TABLE IF NOT EXISTS contacts (
    id SERIAL PRIMARY KEY,
    phone VARCHAR(50) NOT NULL,
    email VARCHAR(255) NOT NULL,
    address TEXT NOT NULL,
    inn VARCHAR(50) NOT NULL
);

-- Таблица печенья
CREATE TABLE IF NOT EXISTS cookies (
    id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    price DECIMAL(10,2) NOT NULL,
    format VARCHAR(50) NOT NULL CHECK (format IN ('common', 'special')),
    type VARCHAR(100) NOT NULL,
    img_url TEXT,
    description TEXT,
    ingredients TEXT,
    address TEXT,
    quantity INTEGER NOT NULL
);

-- Индексы для оптимизации запросов
CREATE INDEX IF NOT EXISTS idx_cookies_type ON cookies(type);
CREATE INDEX IF NOT EXISTS idx_cookies_format ON cookies(format);
CREATE INDEX IF NOT EXISTS idx_cookies_price ON cookies(price);
CREATE INDEX IF NOT EXISTS idx_cookies_quantity ON cookies(quantity);
CREATE INDEX IF NOT EXISTS idx_cookies_title ON cookies(title);

-- Вставка данных статистики из фронтенда
INSERT INTO stats (number, stat_type) VALUES
('12408', 'cookies_sold'),
('1000+', 'clients'),
('3255', 'reviews');

-- Вставка контактов из фронтенда
INSERT INTO contacts (phone, email, address, inn) VALUES
('8 (xxx) xxx-xx-xx', 'Hkikomori@yandex.ru', 'г. Беллер, улица Селлер, д. 15', 'xxxxxxxxxx');

-- Вставка данных о печенье с типами из фильтра
INSERT INTO cookies (title, price, format, type, img_url, description, ingredients, address, quantity) VALUES
-- Сахарное печенье
(
    'Сахарное Классическое',
    1800.00,
    'common',
    'Сахарное',
    '/img/cookie.jpg',
    'Традиционное сахарное печенье с нежной текстурой и сладким вкусом.',
    'Пшеничная мука высшего сорта, сахар, сливочное масло, яйца, разрыхлитель, ванилин.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    25
),
(
    'Сахарное с Корицей',
    1900.00,
    'common',
    'Сахарное',
    '/img/cookie.jpg',
    'Ароматное сахарное печенье с добавлением корицы.',
    'Пшеничная мука, сахар, сливочное масло, яйца, корица молотая, разрыхлитель.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    20
),
-- Овсяное печенье
(
    'Овсяное с Изюмом',
    2200.00,
    'common',
    'Овсяное',
    '/img/cookie.jpg',
    'Классическое овсяное печенье с натуральным изюмом. Хрустящее снаружи и мягкое внутри.',
    'Овсяные хлопья, пшеничная мука, сливочное масло, сахар, изюм, яйца, разрыхлитель, корица.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    18
),
(
    'Овсяное Премиум',
    3200.00,
    'special',
    'Овсяное',
    '/img/cookie.jpg',
    'Премиальное овсяное печенье с сушеной клюквой и белым шоколадом.',
    'Овсяные хлопья, пшеничная мука, сушеная клюква, белый шоколад, сливочное масло, сахар, яйца.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    12
),
-- Галеты
(
    'Галеты Простые',
    1500.00,
    'common',
    'Галеты',
    '/img/cookie.jpg',
    'Простые и хрустящие галеты, идеальны для чая.',
    'Пшеничная мука, вода, растительное масло, соль, разрыхлитель.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    30
),
(
    'Галеты с Отрубями',
    1700.00,
    'common',
    'Галеты',
    '/img/cookie.jpg',
    'Полезные галеты с добавлением отрубей.',
    'Пшеничная мука, отруби, вода, растительное масло, соль, разрыхлитель.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    28
),
-- Сдобное печенье
(
    'Шоколадный Взрыв',
    2500.00,
    'common',
    'Сдобное',
    '/img/cookie.jpg',
    'Мягкое сдобное печенье с крупными кусочками шоколада.',
    'Пшеничная мука высшего сорта, сливочное масло, сахар, яйца, шоколад, разрыхлитель, ваниль.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    15
),
(
    'Сдобное Карамельное',
    4200.00,
    'special',
    'Сдобное',
    '/img/cookie.jpg',
    'Премиальное сдобное печенье с карамельной начинкой и морской солью.',
    'Пшеничная мука, сливочное масло, сахар, карамель, морская соль, яйца, ваниль.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    10
),
(
    'Кокосовое Наслаждение',
    2700.00,
    'common',
    'Сдобное',
    '/img/cookie.jpg',
    'Нежное сдобное печенье с кокосовой стружкой.',
    'Пшеничная мука, кокосовая стружка, сливочное масло, сахар, яйца, кокосовое молоко.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    16
),
-- Затяжное печенье
(
    'Затяжное Классическое',
    1600.00,
    'common',
    'Затяжное',
    '/img/cookie.jpg',
    'Традиционное затяжное печенье с долгим сроком хранения.',
    'Пшеничная мука, сахар, растительное масло, вода, соль, разрыхлитель.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    35
),
(
    'Затяжное Молочное',
    1800.00,
    'common',
    'Затяжное',
    '/img/cookie.jpg',
    'Затяжное печенье с добавлением сухого молока.',
    'Пшеничная мука, сахар, сухое молоко, растительное масло, вода, разрыхлитель.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    32
),
-- Крекеры
(
    'Крекеры Солёные',
    1400.00,
    'common',
    'Крекеры',
    '/img/cookie.jpg',
    'Хрустящие солёные крекеры для перекуса.',
    'Пшеничная мука, растительное масло, вода, соль морская, дрожжи.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    40
),
(
    'Крекеры с Семенами',
    1600.00,
    'common',
    'Крекеры',
    '/img/cookie.jpg',
    'Крекеры с подсолнечными и кунжутными семенами.',
    'Пшеничная мука, семена подсолнечника, кунжут, растительное масло, вода, соль.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    38
);
