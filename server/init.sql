\c cookiestore_db;

-- Таблица статистики
CREATE TABLE IF NOT EXISTS stats (
    id SERIAL PRIMARY KEY,
    number VARCHAR(50) NOT NULL,
    stat_type VARCHAR(100) NOT NULL
);

-- Таблица контактов
CREATE TABLE IF NOT EXISTS contacts (
    id SERIAL PRIMARY KEY,
    phone VARCHAR(50) NOT NULL,
    email VARCHAR(255) NOT NULL,
    address TEXT NOT NULL,
    inn VARCHAR(50) NOT NULL
);

-- Таблица печенья
CREATE TABLE IF NOT EXISTS cookies (
    id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    price DECIMAL(10,2) NOT NULL,
    format VARCHAR(50) NOT NULL CHECK (format IN ('common', 'special')),
    type VARCHAR(100) NOT NULL,
    img_url TEXT,
    description TEXT,
    ingredients TEXT,
    address TEXT,
    quantity INTEGER NOT NULL
);

-- Индексы для оптимизации запросов
CREATE INDEX IF NOT EXISTS idx_cookies_type ON cookies(type);
CREATE INDEX IF NOT EXISTS idx_cookies_format ON cookies(format);
CREATE INDEX IF NOT EXISTS idx_cookies_price ON cookies(price);
CREATE INDEX IF NOT EXISTS idx_cookies_quantity ON cookies(quantity);
CREATE INDEX IF NOT EXISTS idx_cookies_title ON cookies(title);

-- Вставка данных статистики из фронтенда
INSERT INTO stats (number, stat_type) VALUES
('12408', 'cookies_sold'),
('1000+', 'clients'),
('3255', 'reviews');

-- Вставка контактов из фронтенда
INSERT INTO contacts (phone, email, address, inn) VALUES
('8 (xxx) xxx-xx-xx', 'Hkikomori@yandex.ru', 'г. Беллер, улица Селлер, д. 15', 'xxxxxxxxxx');

-- Вставка данных о печенье из фронтенда
INSERT INTO cookies (title, price, format, type, img_url, description, ingredients, address, quantity) VALUES
(
    'Шоколадный Взрыв',
    2500.00,
    'common',
    'Сдобное',
    '/img/cookie.jpg',
    'Погружайтесь в мир настоящего шоколадного наслаждения с печеньем «Шоколадный Взрыв»! Мягкое, ароматное, тесто сочетается с крупными кусочками темного молочного шоколада, создавая взрыв насыщенным шоколадным вкусом и ненавязчивым послевкусием.',
    'Пшеничная мука высшего сорта, сливочное масло, сахар, коричневый тростниковый сахар, яйца, шоколад (тёмный какао-массо, какао тёртое, какао-порошок, ванилин), разрыхлитель, пищевая соль, экстракт ванили. Пищевая ценность на 100г: калории 450, белки 6г, жиры 22г, углеводы 55г.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    12
),
(
    'Карамельное Сдобное',
    3500.00,
    'special',
    'Сдобное',
    '/img/cookie.jpg',
    'Насладитесь нежным вкусом карамели в каждом кусочке! Это печенье сочетает в себе мягкое тесто и сладкую карамельную начинку, создавая идеальный баланс вкусов.',
    'Пшеничная мука, сливочное масло, сахар, карамель, яйца, разрыхлитель, соль, ваниль.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    12
),
(
    'Овсяное с Изюмом',
    2200.00,
    'common',
    'Овсяное',
    '/img/cookie.jpg',
    'Классическое овсяное печенье с натуральным изюмом. Хрустящее снаружи и мягкое внутри.',
    'Овсяные хлопья, пшеничная мука, сливочное масло, сахар, изюм, яйца, разрыхлитель, корица, ваниль.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    20
),
(
    'Песочное Классическое',
    1800.00,
    'common',
    'Песочное',
    '/img/cookie.jpg',
    'Традиционное песочное печенье с нежной рассыпчатой текстурой.',
    'Пшеничная мука высшего сорта, сливочное масло, сахарная пудра, яйца, ванильный экстракт.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    25
),
(
    'Имбирное Пряное',
    2300.00,
    'common',
    'Пряное',
    '/img/cookie.jpg',
    'Ароматное имбирное печенье с пряностями - идеально к чаю!',
    'Пшеничная мука, мёд, сливочное масло, имбирь молотый, корица, мускатный орех, гвоздика, разрыхлитель.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    18
),
(
    'Миндальное Премиум',
    4200.00,
    'special',
    'Песочное',
    '/img/cookie.jpg',
    'Премиальное миндальное печенье с цельными орехами. Роскошный вкус для истинных ценителей.',
    'Миндальная мука, пшеничная мука, сливочное масло, сахар, цельный миндаль, яйца, ванильный экстракт.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    15
),
(
    'Кокосовое Наслаждение',
    2700.00,
    'common',
    'Сдобное',
    '/img/cookie.jpg',
    'Нежное печенье с кокосовой стружкой и тропическим ароматом.',
    'Пшеничная мука, кокосовая стружка, сливочное масло, сахар, яйца, кокосовое молоко, разрыхлитель.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    16
),
(
    'Двойной Шоколад Делюкс',
    3800.00,
    'special',
    'Сдобное',
    '/img/cookie.jpg',
    'Эксклюзивное печенье с темным и молочным шоколадом. Двойное шоколадное удовольствие!',
    'Пшеничная мука, какао-порошок, темный шоколад, молочный шоколад, сливочное масло, сахар, яйца, ваниль.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    10
),
(
    'Ореховый Микс',
    3100.00,
    'common',
    'Песочное',
    '/img/cookie.jpg',
    'Печенье с ассорти из орехов: грецкие, фундук, кешью.',
    'Пшеничная мука, сливочное масло, грецкие орехи, фундук, кешью, сахар, яйца, ваниль.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    14
),
(
    'Лимонное Свежесть',
    2400.00,
    'common',
    'Песочное',
    '/img/cookie.jpg',
    'Освежающее лимонное печенье с цедрой. Яркий цитрусовый вкус.',
    'Пшеничная мука, сливочное масло, сахар, лимонная цедра, лимонный сок, яйца, разрыхлитель.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    20
),
(
    'Ванильное Облако',
    2100.00,
    'common',
    'Сдобное',
    '/img/cookie.jpg',
    'Воздушное ванильное печенье, тающее во рту.',
    'Пшеничная мука высшего сорта, сливочное масло, сахарная пудра, ванильные стручки, яйца, разрыхлитель.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    22
),
(
    'Клюквенное Чудо',
    2900.00,
    'special',
    'Овсяное',
    '/img/cookie.jpg',
    'Овсяное печенье с сушеной клюквой и белым шоколадом. Изысканное сочетание вкусов.',
    'Овсяные хлопья, пшеничная мука, сушеная клюква, белый шоколад, сливочное масло, сахар, яйца.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    18
),
(
    'Медовое Традиционное',
    2000.00,
    'common',
    'Пряное',
    '/img/cookie.jpg',
    'Классическое медовое печенье с согревающими специями.',
    'Пшеничная мука, натуральный мёд, сливочное масло, яйца, корица, имбирь, гвоздика, разрыхлитель.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    24
),
(
    'Фисташковое Премиум',
    4500.00,
    'special',
    'Песочное',
    '/img/cookie.jpg',
    'Элитное печенье с фисташками. Премиум качество для гурманов.',
    'Фисташковая паста, пшеничная мука, сливочное масло, фисташки очищенные, сахар, яйца, ваниль.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    12
),
(
    'Шоколадная Крошка',
    2300.00,
    'common',
    'Сдобное',
    '/img/cookie.jpg',
    'Печенье с кусочками шоколада в каждом укусе.',
    'Пшеничная мука, шоколадные чипсы, сливочное масло, сахар, яйца, ваниль, разрыхлитель.',
    'Россия, г. Тверь, ул. Школьников, д. 15, корп. 2',
    20
);
